#	第二章

## 1.常量

- 常量是指内存中存储的固定值

### 1.1常量种类

1. 整型常量，如：123，067，0X1D，123L
2. 浮点数常量，如：123.4，.18，1.8e1，1.2D，1.2F
3. 布尔型常量，如：true，false
4. 字符常量，如：’a’，’8’，‘\n’，‘\u123f’
5. 字符串常量，如：“a”，“hello”
6. 引用类型常量，：null

### 1.2数字常量下划线

```java
public class ConstDemo1{
	public static void main(String[] args){
        // 整形数字 10^9
        System.out.println(1_000_000_000);
        // 整形数字，
        System.out.println(1234_4567_8901_2345L);
        // 整形
        System.out.println(777_99_8888L);
        // 浮点型
        System.out.println(3.1415_9265);
        //浮点型
        System.out.println(3.14_15_92_65f);
    }	
}
```



## 2.变量

- 变量实际上是定义了内存中的一片存储区域，因为值不能确定，只能划分一片区域记录这个变量(数学中的x+3=6)
- 该区域由自己的名称（变量名）和类型（数据类型）

![变量内存模型](变量内存模型.png)

- 为什么定义变量？ 用来不断的存放同一类型的常量，可以重复使用

  ![变量内存模型](变量的解释.png)

  >注：在这里向学生表述清楚使用变量的意义：就是不在直接操作常量，而是只管操作变量，而变量里存的数据都是常量

  

### 2.3.整数类型

#### 2.3.1  整数类型： byte short  int  long 

> 注意：类型的主要区别在于取值范围不同：

1. byte取值范围： -128~127        占用：1个字节 8bit
2. short取值范围： -32 768~32 767     占用：2 个字节 16bit
3. int 取值范围： -2147483648, 2147483647       占用：4个字节  32bit
4. long的取值范围：-9223372036854774808~9223372036854774807       占用：8个字节  64bit

> 为什么java要搞四种不同的整数类型？
>
> 因为不同类型占用的内存空间大小不同
>
> 常用的整形是int byte ,byte是因为它是数据所存储的最小单位、


#### 2.3.2  整形的四种表现形式

1. 二进制： 以0b，0B开头

2. 八进制：以0开头

3. 十进制：正常表示

4. 十六进制：以0X，0x表示


#### 2.3.3  进制的转换以及占用内存空间大小

##### 2.3.3.1 进制的由来：

> 以开关信号来说明：八个开关为一组在计算机中代表字节，数据的最小单元
>
> 计算机中的所有数据都有0101组成，八个二进制位为一个单元，叫做字节，每一个二进制位为一个bit位
>
> 1k = 1024 byte；
>
> 1m = 1024 k；
>
> 1g = 1024 m；

##### 2.3.3.2 进制的转换计算

[^注]: windows计算器的进制转换功能可以进行演示

> 1. 3个bit位为一组代表八进制
> 2. 4个为一组代表十六进制

**例子：**
$$
752 = 2*10^0+5*10^1+7*10^2
$$

$$
1011 = 1*2^0+1*2^1+0*2^2+1*2^3
$$

0101011:

1. 十进制:43

   | 0    | 1    | 0    | 1    | 0    | 1    | 1    |
   | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
   | 64   | 32   | 16   | 8    | 4    | 2    | 1    |
   | 0    | 32   | 0    | 8    | 0    | 2    | 1    |

2. 八进制：053

   | 000  | 101  | 011  |
   | ---- | ---- | ---- |
   | 392  | 56   | 7    |
   | 0    | 5    | 3    |
   | 0    | 40   | 3    |

3. 十六进制：0X2B

   | 0010 | 1011 |
   | ---- | ---- |
   | 2    | B    |
   | 32   | 11   |

**结论：八进制数：3个bit位为一个八进制位。**

​			**十六进制：四个bit位为一个十六进制位。**

>注：一个byte表达最大数位255, 
>
>IP地址：
>
>IPV4: 32bit组成  表示方式：四个不超过255的十进制数组成：255.255.255.255
>
>IPV6: 128bit组成： 表示方式：八个四位长度16进制数组成 ：FFFF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF

十进制转换二进制：

6： 6/2 = 3（0） 3/2=1(1)   1    从右往左看    110

负数的二进制在内存中的表现形式

> 注：内存中由四个字节来表示一个整数，也就是四个8bit
>
> 负数的表现形式为正数的二进制取反再+1

| 6                   | -6                  |
| ------------------- | ------------------- |
| 0000-0000-0000-0110 | 1111-1111-1111-1010 |



###### 练习：类型与表现形式的结合,以不同方式表现数字12 ：

> 1. byte：二进制
> 2. short：八进制
> 3. int：十进制
> 4. long：十六进制

```java 
byte a = 0B1100;
short b = 014;
int c =  12;
long d = 0xCL;
System.out.println(a);
System.out.println(b);
System.out.println(c);
System.out.println(d);
```



### 2.4. 浮点类型

#### 2.4.1 浮点类型：float（单精度）  double（双精度）

[^科学计数法的补充]: 科学记数法是一种记数的方法。把一个数表示成a与10的n次幂相乘的形式（1≤a<10，n为整数），这种记数法叫做**科学记数法。** **[2]**  例如：19971400000000=1.99714×10^13

> 单精度和双精度的区别: 
>
> 单精度的精度不如双精度，原因是因为单精度在内存中由4个字节表示，而双精度是八个字节表示，所以八个表示的小数点位置要比单精度多，所以java默认使用double存储浮点类型



### 2.5. 字符类型

>取值范围0-65535 也就是两个字节

[^注]: 字符如何用两字节表示，想学生说明编码表的概念。通过演示‘a’+1=98的代码引入asc编码表的概念。

asc码表：

| a        | b        |
| -------- | -------- |
| 01100001 | 01100010 |

中文编码表：GB2312 ,GBK（国标扩展码）

国际通用编码：Unicode 

> 例子说明

```java
public class CharCode {

    public static void main(String[] args) throws Exception {
        System.out.println((char)('a'+1));
        System.out.println('你'+1);
        System.out.println((char)0x4e2d);
        System.out.println('\u507E'); //unicode码表
        System.out.println((int)'\u507E');

    }    
}
```

丢失精度例子：

```java
public static void main(String[] args) {
        byte b = 4;
        //b = 3+7;
        byte b1 = 3;
        byte b2 = 7;
        b = b1+b2;
        System.out.println(b);
    	
    	//int x = 0;
        //int x1 = Integer.MAX_VALUE;
        //int x2 = 2;
       // x = x1+x2;
       // System.out.println(x);
    }
```

结果：

```
Exception in thread "main" java.lang.Error: Unresolved compilation problem:  

​	Type mismatch: cannot convert from int to byte 

at VarDetail.main(VarDetail.java:10)
```

> 原因：byte最大127，相加可能会超出127，丢失精度，而int不丢的原因是因为int是java表示整形的默认类型，所以自动截取位数，导致变为负数

### 2.6 类型转换

```java
//例子 运算两端的数据类型一致的情况下
int x = 0;
x = x+5;
// result 5
```

```
//不同类型的例子，但是只要是数值型，就会进行隐式类型转换，也叫自动类型提升
int x = 5;
byte b = 5;
x = x+b;
```

![](D:\备课\java基础\强转愿因.png)

上图说明了强制类型转换的原因

强制转换的原理：将超出部分的字节强制删除

```java
byte b = 7;
//b = b+1;
// b= 8
b = (byte)(b+1);
//   00000000-00000000-00000000-00001000 int 
//   00001000 byte




```

