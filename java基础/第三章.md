# 1第三章 控制流语句

## 1.条件控制

### 1.1 if 

#### 1.1.1 代码块与作用域

```java
public class BlockDemo {

    public static void main(String[] args) {
        
    	{//局部代码块
    		int m = 89; //局部变量的作用域问题
            System.out.println(m);
    	}
        System.out.println("m="+m);//编译错误 ：找不到符号
    }
}
```

**原理：虚拟机运行到 “int m = 89”时会在内存空间中划出区域存储变量并且初始化值89**

**但是一旦出了局部代码块，这块内存空间就会释放，等待GC回收，原因按照语义，除了局部代码块这个变量就没有意义了，只会占据多余的内存空间**

作用：节省内存，对于不需要的变量，尽量写在合适的代码块中。虚拟机可以占用的内存空间是有限的

> 练习：
>
> 1.根据用户指定的具体数据，	判断该数据对应的星期
>
> [^注]: //Scanner类是java.util包中提供的一个操作类，使用此类可以方便的完成输入流的输入操作。          Scanner  scan = new Scanner(System.in);int i = scan.nextInt();
>
> ```java
> Scanner scanner = new Scanner(System.in);
>         int a = scanner.nextInt();
> ```
>
> 
>
> 2.根据输入值判断季节
>
> ```java
> int month = 1;
> if(month>1 || month >12)
> else if、、、、
> ```
>
> 





### 1.2 switch 语句

switch 可接受的表达式的类可以是int、byte、char、short 、String型、枚举型，不接受其他类型的值

例子

```java

    public static void main(String[] args) {
        int a = 2;
        switch (a) {
        default:
            System.out.println("d");
            break;
        case 4:
            System.out.println("c");
            break;
        case 3:
            System.out.println("3");
            //最后一个break可以省略
        }
    }
```



> 补充：枚举类
>
> 枚举类型是Java 5中新增特性的一部分，它是一种特殊的数据类型，之所以特殊是因为它既是一种类(class)类型却又比类类型多了些特殊的约束
>
> ```java
> public class DayDemo {
> 
>     public static final int MONDAY =1;
> 
>     public static final int TUESDAY=2;
> 
>     public static final int WEDNESDAY=3;
> 
>     public static final int THURSDAY=4;
> 
>     public static final int FRIDAY=5;
> 
>     public static final int SATURDAY=6;
> 
>     public static final int SUNDAY=7;
> 
> }
> ```
>
> ```
> enum Day {
>     MONDAY, TUESDAY, WEDNESDAY,
>     THURSDAY, FRIDAY, SATURDAY, SUNDAY
> }
> ```

> 练习：用switch实现下月份
>
> ```java
> switch(x){
>     case 1,2,3:
>     case 4,5,6:
>     case 7,8,9:
>     case 10,11,12:
>     default:
> }
> ```
>
> 

>  if和switch的区别：
>
> 关键在于用对：十八般兵器什么时候用
>
> if:
>
> 1.对具体的值进行判断
>
> 2.对区间进行判断
>
> 3.对运算结果是boolean类型的表达式进行判断
>
> switch：
>
> 1.对具体的值进行判断
>
> 2.值得个数常是固定的
>
> **对于几个值是固定的判断建议用switch，因为switch语句会将具体的答案都加载进内存，效率相对高一点**
>
> 

## 2. 循环语句

### 2.1 while 与do while循环

>例子
>
>```java
>int x = 1;
>while(x<3){
>    System.out.println("x="+x);
>    x++;
>}
>
>//错误例子
>int x= 1;
>while（x<3）; //没有循环体
>{
>    System.out.println("x="+x);
>    x++;
>}
>```

### 2.2 do while 循环

```java
int x = 1;
do{
    System.out.println("x="+x);
    x++
}while(x<3);

int y = 1;
while(y<3){
    System.out.println("y="+y);
    y++
}
//注意以上两个的区别，do先执行，而while必须满足才执行
```

#### 课堂练习

> 1. 计算1-100的和
>
>    ```java
>    int x = 1;
>    int num = 0;
>    while(x<=100){
>        sum = sum +x;
>        x++
>    }
>    println(num)
>    ```
>
>    累加算法

> 2. 计算1-100之间6的倍数出现的次数
>
>    [^注]: 学生自己完成，并且提一下计数器思想

### 2.2 for循环

![1564463612540](for循环体流程.png)



![](for循环执行规律.png)

**结论：for循环的话初始化表达式只执行一次。循环在条件表达式和执行语句和循环后表达式之间进行循环**

> 例子：说明for循环中表达式的执行顺序，和有基础的人讲一讲，实际开发中都会用循环初始化表达式初始化一个数值，并且在循环后++，导致思维固话，其实只要是表达式就行，除了循环条件表达式必须返回boolean值以外，其他位置只要是合法的表达式即可。
>
> ```java
> int x =1;
> for (System.out.println("a");x<3;System.out.println("c")){
>     System.out.println("d")
>     x++;
> }
> //编译可以通过，
> for (System.out.println("a"),System.out.println("e");x<3;System.out.println("c")){
>     System.out.println("d")
>     x++;
> }
> //初始化表达式可以有多个，循环后表达式也可以有多个，例如for(int a =0,b=0;c<10;c++,b--)
> for (System.out.println("a"),System.out.println("e");x<3;System.out.println("c")){
>     System.out.println("d")
>     x++;
> }
> ```
>
> [^注]: javac命令需要指定编码：javac -encoding UTF-8 .\ForDemo.java
>
> 

#### 2.2.1 for循环与while的区别

> 练习：用for循环完成累加算法
>
> ```java
> int sum = 0;
> for(int x = 1;x<=10;x++){
>     sum = sum +x;
> }
> System.out.println("sum+"+sum);
> ```
>
> 通过以上内容说明for和while很像，那么到底他们有什么**区别**？
>
> 1. for和while可以互换
>
> 2. 格式上的不同在使用上有一点小区别，如果需要通过变量来对循环进行控制，该变量只作为循环增量存在时，区别就存在出来了
>
>    ```java
>    //打印1到4
>    int x = 1;
>    while(x<5){
>        System.out.println("x="+x);
>        x++;
>    }
>    System.out.println("x is"+x);
>    
>    for(int y = 5;y<5;y++){
>        System.out.println("y="+y);
>    }
>    System.out.println("y="+y); //编译不通过：找不到符号y
>    //原因是y的作用域只是作为循环体内的局部变量，y在循环结束后会被释放
>    ```
>
>    **结论**：到底该用哪个？
>
>    答：视情况而定，如果你的需要继续使用变量while可以，如果不是for就可以

#### 2.2.2 无限循环

**无限循环的使用场景：用于阻塞场景：又名轮询**

```java
//写法
while(true){
    
}
//三个表达式都可以不写，中间不写表达式默认true
for(;;){
    
}
```

#### 2.2.3 循环使用场景

什么使用使用循环？

<u>当某些代码执行很多次时，使用循环完成</u>

<u>当对一个条件进行一次判断时，使用if，当对一个条件进行多次判断时可以使用while</u>	

>注意：
>
>​	在使用循环时要注意哪些语句需要参与循环，哪些语句不需要
>
>​	循环通常情况下需要定义条件，需要控制次数，除非刻意使用无限循环
>
>

#### 2.2.4 循环的嵌套

什么是语句的嵌套？

​	语句的嵌套就是语句中嵌套的了别的语句，比如计数器例子中，循环中嵌套了if。

>例子
>
>```java
>for (int x = 0;x<3;x++){
>    for (int y = 0;y<4;y++){
>        System.out.println("ok");
>    }
>}
>//1.注意y每一次外循环时都会进行重新划分内存空间
>```
>
>大圈套小圈思想:月球绕着地球转，地球绕着太阳转

> 循环的一个使用场景
>
> ```java
> /* 用星号组成长方形
> 	*****	
> 	*****	
> 	*****	
> 	*****
> */
> for (int x = 0;x<4;x++){ //外循环控制行数
>     for (int y = 0;y<5;y++){
>         Sytem.out.print("*");
>     }
>     System.out.println("*");
> }
> 
> ```
>
> 应用场景：排序算法、复杂的字符串处理、二维数组的计算等。

>嵌套的练习：
>
>```java
>/* 
>	*****	
>	****	
>	***	
>	**
>	*
>*/
>    int z = 5;
>    for (int x = 0;x<5;x++){ //1-5 1-4 1-3 
>       for (int y = 1;y<z;y++){
>         System.out.print("*");
>       }
>    	z--;
>    	System.out.println("*");
>    }
>
>	int z = 1;
>    for (int x = 0;x<5;x++){ //1-5 2-5 3-5
>       for (int y = z;y<5;y++){
>         System.out.print("*");
>       }
>    	z++;
>    	System.out.println("*");
>    }
>
>	for (int x = 0;x<5;x++){ //1-5 2-5 3-5
>       for (int y = x;y<5;y++){
>         System.out.print("*");
>       }
>    	System.out.println("*");
>    }
>//只要保证外步长五次，内部递减，代码怎么写都行
>/* 
>	*	
>	**	
>	***		
>	****
>	*****
>*/
>        int z = 5;
>        for (int x = 0; x < 5; x++) { 
>            for (int y = z; y < 5; y++) {
>                System.out.print("*");
>            }
>            z--;
>            System.out.println("*");
>        }
>/*
>  54321
>  5432
>  543
>  54
>  5
>*/
>		for (int i = 1; i <= 5; i++) {
>            for (int a = 5; a > i; a--) {
>                System.out.print(a);
>            }
>            System.out.println(i);
>        }
>
>/*
>  1
>  22
>  333
>  4444
>  55555
>*/
>		for(int i = 1; i <= 5; i++){
>            for(int a = 1;a<i;a++){
>                System.out.print(i);
>            }
>            System.out.println(i);
>        }
>```
>
>```java
>/*实现99乘法表 
>1*1 =1
>1*2 = 2 2*2 = 4
>1*3 = 3 2*3 = 6 3*3 = 9 */
>
>//分析，每一行的一列都是1（列代表内循环），每一行的被乘数最大值都是该行号
>        for (int a = 1; a <=9; a++) {
>            for (int y = 1; y <=a; y++) {
>                //System.out.print(y+"*"+a+"="+(a*y)+" ")
>                System.out.print(y+"*"+a+"="+(a*y)+"\t"); //注意制表符的解释，就是让格子对
>            }
>            System.out.println("");
>        }    
>
>```
>
>```java
>/*
>  * * * * *
>  -* * * *
>  --* * *
>  ---* *
>  ----*
>*/
>//分析 以减号代替空格，由两个三角形组成，一个由空格组成的倒三角，一个星和空格组成的三角形
>for(int x= 1;x<=5;x++){
>    for (int y = 1;y<x;y++){
>        System.out.print("-");
>    }
>    for (int z = x;z<=5;z++){
>        System.out.print("* ");
>    }
>    System.out.println();
>} 
>
>```

#### 2.2.5 break 与continue

break只能在switch和loop中使用：

```java
//例子
public class BreakDemo {

    public static void main(String[] args) {
        System.out.println("hello world");
        break;
        System.out.println("haha");
    }
}
```

> 结果：
>
> .\BreakDemo.java:8: 错误: 在 switch 或 loop 外部中断
>         break;
>         ^
> 1 个错误

```java
for(int x=0;x<3;x++){
     System.out.println("x="+x);
     break;
}
// 0 
```

```java
for(int x=0;x<3;x++){
    break;
    System.out.println("x="+x);
     
}
//编译失败 打印那一句永远无法访问
```

break 只对循环和switch作用：

```java
//例子
for (int x= 0;x<3;x++){
    if (x==1){
        break;
    }
    System.out.println("x="+x);
}
// 对于if代码块，break并不管他
```

**break的作用**：剔除无限循环

>```java
>for(){
>    for(){
>        ...
>        break;
>    }
>}
>```
>
>结论：break默认跳出所在循环，要跳出指定循环，需要使用标志
>
>

break跳出指定循环：

```java
xiaoqiang:for(){
    for(){
        ...
        break;
    }
}
//xiaoqiang 就是label，在后面加冒号
```

**continue**:继续执行循环，作用范围只有循环结构

```java
//例子
for (){
    break;
    System.out.println("x="+x);
}
//编译失败：无法访问的语句System.out.println("x="+x);

//正确的例子
for(int x = 0;x<11;x++){
    if(x%2==0)
        continue;
     System.out.println("x="+x);
}
```

**continue**的作用：结束本次循环，继续下次循环

continue也可以和label一起使用。